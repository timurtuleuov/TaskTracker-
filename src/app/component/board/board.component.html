
    <!-- Chosing board -->
    <div class="flex justify-content-center h-fit dark:bg-gray-900 dark:text-white">
      <mat-form-field>
        <mat-label>Boards</mat-label>
        <mat-select [(value)]="selectedBoard" (selectionChange)="onBoardChange($event.value)">
          <mat-option></mat-option>
          @for (option of boards; track option) {
            <mat-option [value]="option.id">{{ option.title }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
    </div>
<div cdkDropListGroup class="flex justify-content-center min-h-screen overflow-y-auto dark:bg-gray-900 dark:text-white pb-24"> 

    <div class="drag-container dark:bg-gray-900 dark:text-white">
      <div class="flex flex-row justify-start">
            <p class="text-4xl leading-tight">To Do</p>
            <button (click)="addTask('todo')" mat-icon-button aria-label="Example icon button with a vertical three dot icon">
                <mat-icon>add</mat-icon>
            </button>
        </div>
      
        <div *ngIf="isDataLoaded"
    cdkDropList
    [cdkDropListData]="todo"
    class="drag-list dark:bg-gray-700 dark:text-white"
    (cdkDropListDropped)="drop($event)">
  @for (item of todo; track item) {
    <div class="drag-box flex justify-between items-start p-2" cdkDrag>
      <div class="flex items-center">
        <button (click)="toggleEmojiPicker(item.id)"
            class="img mr-2"
            [style.opacity]="item.emoji ? '1' : '0.5'"
            [style.fontSize.px]="24">
          {{ item.emoji || 'ðŸ˜Š' }}
        </button>
        <emoji-mart *ngIf="activeEmojiPickerId === item.id"
            class="emoji-mart"
            [showPreview]="false"
            [style]="{ position: 'absolute', zIndex: '1000' }"

            [darkMode]="darkMode"
            (emojiSelect)="addEmoji($event, item)"
            title="Choose your emoji"></emoji-mart>
        <span class="flex-1 max-w-[250px] overflow-hidden truncate break-words">{{ item.title }}</span>
      </div>
      <div class="flex space-x-2">
        <button mat-icon-button (click)="editTask(item)">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>more_horiz</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="deleteTask(item)">
            <span>Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ</span>
          </button>
          <button mat-menu-item (click)="duplicateTask(item)">
            <span>Ð”ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ</span>
          </button>
          <button mat-menu-item [routerLink]="['/task/', item.id]">
            <span>ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ</span>
          </button>
        </mat-menu>
      </div>
    </div>
  }
</div>

   
    </div>
    <div class="drag-container">
      <div class="flex flex-row justify-start">
        <p class="text-4xl leading-tight">Doing</p>
            <button (click)="addTask('doing')" mat-icon-button aria-label="Example icon button with a vertical three dot icon">
                <mat-icon>add</mat-icon>
            </button>
        </div>

        <div *ngIf="isDataLoaded"
        cdkDropList
        [cdkDropListData]="doing"
        class="drag-list dark:bg-gray-700 dark:text-white"
        (cdkDropListDropped)="drop($event)">
        @for (item of doing; track item) {
          <div class="drag-box flex justify-between items-center p-2" cdkDrag>
            
              <button (click)="toggleEmojiPicker(item.id)"
              class="img"
              [style.opacity]="item.emoji ? '1' : '0.5'"
              [style.fontSize.px]="24">
        {{ item.emoji || 'ðŸ˜Š' }}
      </button>
        <emoji-mart *ngIf="activeEmojiPickerId === item.id"
                class="emoji-mart"
                [showPreview]="false"
                [style]="{ position: 'absolute', zIndex: '1000' }"
                (emojiSelect)="addEmoji($event, item)"
                title="Choose your emoji"></emoji-mart>
                <span class="flex-1 max-w-[250px] overflow-hidden truncate break-words">{{ item.title }}</span>
                    <div class="flex space-x-2">
                      <button mat-icon-button (click)="editTask(item)">
                        <mat-icon>edit</mat-icon>
                      </button>
                      <button mat-icon-button [matMenuTriggerFor]="menu">
                        <mat-icon>more_horiz</mat-icon>
                      </button>
                      <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="deleteTask(item)">
                          <span>Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ</span>
                        </button>
                        <button mat-menu-item (click)="duplicateTask(item)">
                          <span>Ð”ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ</span>
                        </button>
                        <button mat-menu-item [routerLink]="['/task/', item.id]">
                          <span>ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ</span>
                        </button>
                      </mat-menu>
                    </div>
                  </div>
        }
              </div>
        </div>
    <div class="drag-container">
      <div class="flex flex-row justify-start">
        <p class="text-4xl leading-tight">Done</p>
            <button (click)="addTask('done')" mat-icon-button aria-label="Example icon button with a vertical three dot icon">
                <mat-icon>add</mat-icon>
            </button>
        </div>
  
      <div *ngIf="isDataLoaded"
        cdkDropList
        [cdkDropListData]="done"
        class="drag-list dark:bg-gray-700 dark:text-white"
        (cdkDropListDropped)="drop($event)">
        @for (item of done; track item) {
          <div class="drag-box flex justify-between items-center p-2" cdkDrag>
            
              <button (click)="toggleEmojiPicker(item.id)"
              class="img"
              [style.opacity]="item.emoji ? '1' : '0.1'"
              [style.fontSize.px]="24">
        {{ item.emoji || 'ðŸ˜Š' }}
      </button>
        <emoji-mart *ngIf="activeEmojiPickerId === item.id"
                class="emoji-mart"
                [showPreview]="false"
                [style]="{ position: 'absolute', zIndex: '1000' }"
                (emojiSelect)="addEmoji($event, item)"
                title="Choose your emoji"></emoji-mart>
                <span class="flex-1 max-w-[250px] overflow-hidden truncate break-words">{{ item.title }}</span>
            <div class="flex space-x-2">
              <button mat-icon-button (click)="editTask(item)">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon>more_horiz</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="deleteTask(item)">
                  <span>Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ</span>
                </button>
                <button mat-menu-item (click)="duplicateTask(item)">
                  <span>Ð”ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ</span>
                </button>
                <button mat-menu-item [routerLink]="['/task/', item.id]">
                  <span>ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ</span>
                </button>
              </mat-menu>
            </div>
          </div>
        }
      </div>
    </div>
  </div>

  